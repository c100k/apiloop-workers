/**
 *
 */
package io.apiloop.test.workers.store.api.textrazor;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.node.ObjectNode;
import io.apiloop.workers.base.BusinessObjectImpl;
import io.apiloop.workers.base.ws.StubWorkerRestAPICaller;
import io.apiloop.workers.store.api.textrazor.TextRazorTextAnalyzer;
import org.junit.Before;
import org.junit.Test;

import java.util.concurrent.ExecutionException;
import java.util.concurrent.TimeoutException;

import static io.apiloop.test.workers.store.Commons.testParametersMapping;
import static java.util.concurrent.TimeUnit.SECONDS;
import static org.assertj.core.api.StrictAssertions.assertThat;

/**
 *
 */
public class TextRazorTextAnalyzerTest {

    private TextRazorTextAnalyzer worker;
    private StubWorkerRestAPICaller restAPICaller;
    private ObjectNode node;
    private String errorMessage;

    @Before
    public void setUp() {
        restAPICaller = new StubWorkerRestAPICaller();
        node = new ObjectMapper().createObjectNode();
        worker = new TextRazorTextAnalyzer(restAPICaller)
            .setOnError(message -> errorMessage = message)
            .setBusinessObject(new BusinessObjectImpl().setData(node))
            .setApiKey("API KEY")
            .setText("I am going to Paris for the next holidays")
            .setResponseFieldName("analysisResult");
    }
    
    @Test
    public void shouldMapParameters() {
        testParametersMapping(worker);
    }

    @Test
    public void withValidResponse() throws InterruptedException, ExecutionException, TimeoutException {
        // Given
        restAPICaller
            .setExpectedStatus(200)
            .setExpectedResponse("{\"response\":{\"sentences\":[{\"position\":0,\"words\":[{\"position\":0,\"startingPos\":0,\"endingPos\":1,\"stem\":\"i\",\"lemma\":\"i\",\"token\":\"I\",\"partOfSpeech\":\"PRP\",\"parentPosition\":2,\"relationToParent\":\"nsubj\"},{\"position\":1,\"startingPos\":2,\"endingPos\":4,\"stem\":\"am\",\"lemma\":\"am\",\"token\":\"am\",\"partOfSpeech\":\"VBP\",\"parentPosition\":2,\"relationToParent\":\"aux\"},{\"position\":2,\"startingPos\":5,\"endingPos\":10,\"stem\":\"go\",\"lemma\":\"go\",\"token\":\"going\",\"partOfSpeech\":\"VBG\",\"senses\":[{\"synset\":\"sound.v.02\",\"score\":-0.004835},{\"synset\":\"go.v.23\",\"score\":0.009803},{\"synset\":\"fit.v.02\",\"score\":0.04768},{\"synset\":\"move.v.15\",\"score\":0.08024},{\"synset\":\"go.v.19\",\"score\":0.08785},{\"synset\":\"rifle.v.02\",\"score\":0.08791},{\"synset\":\"move.v.13\",\"score\":0.1152},{\"synset\":\"plump.v.04\",\"score\":0.1194},{\"synset\":\"die.v.01\",\"score\":0.128},{\"synset\":\"blend.v.02\",\"score\":0.1332},{\"synset\":\"run.v.05\",\"score\":0.1405},{\"synset\":\"fail.v.04\",\"score\":0.1522},{\"synset\":\"go.v.22\",\"score\":0.1562},{\"synset\":\"become.v.01\",\"score\":0.1632},{\"synset\":\"go.v.05\",\"score\":0.1682},{\"synset\":\"function.v.01\",\"score\":0.1695},{\"synset\":\"go.v.09\",\"score\":0.1814},{\"synset\":\"go.v.25\",\"score\":0.1825},{\"synset\":\"belong.v.03\",\"score\":0.1844},{\"synset\":\"run.v.03\",\"score\":0.2177},{\"synset\":\"go.v.02\",\"score\":0.2283},{\"synset\":\"go.v.10\",\"score\":0.2569},{\"synset\":\"proceed.v.04\",\"score\":0.2706},{\"synset\":\"run_low.v.01\",\"score\":0.2786},{\"synset\":\"start.v.09\",\"score\":0.2801},{\"synset\":\"survive.v.01\",\"score\":0.2895},{\"synset\":\"go.v.16\",\"score\":0.3055},{\"synset\":\"go.v.28\",\"score\":0.312},{\"synset\":\"go.v.03\",\"score\":0.3452},{\"synset\":\"travel.v.01\",\"score\":0.6102}]},{\"position\":3,\"startingPos\":11,\"endingPos\":13,\"stem\":\"to\",\"lemma\":\"to\",\"token\":\"to\",\"partOfSpeech\":\"TO\",\"parentPosition\":2,\"relationToParent\":\"prep\"},{\"position\":4,\"startingPos\":14,\"endingPos\":19,\"stem\":\"pari\",\"lemma\":\"paris\",\"token\":\"Paris\",\"partOfSpeech\":\"NNP\",\"parentPosition\":3,\"relationToParent\":\"pobj\",\"senses\":[{\"synset\":\"paris.n.02\",\"score\":0.00322},{\"synset\":\"paris.n.03\",\"score\":0.05947},{\"synset\":\"paris.n.04\",\"score\":0.09079},{\"synset\":\"paris.n.01\",\"score\":0.2237}]},{\"position\":5,\"startingPos\":20,\"endingPos\":23,\"stem\":\"for\",\"lemma\":\"for\",\"token\":\"for\",\"partOfSpeech\":\"IN\",\"parentPosition\":2,\"relationToParent\":\"prep\"},{\"position\":6,\"startingPos\":24,\"endingPos\":27,\"stem\":\"the\",\"lemma\":\"the\",\"token\":\"the\",\"partOfSpeech\":\"DT\",\"parentPosition\":8,\"relationToParent\":\"det\"},{\"position\":7,\"startingPos\":28,\"endingPos\":32,\"stem\":\"next\",\"lemma\":\"next\",\"token\":\"next\",\"partOfSpeech\":\"JJ\",\"parentPosition\":8,\"relationToParent\":\"amod\",\"senses\":[{\"synset\":\"future.s.03\",\"score\":0.1105},{\"synset\":\"following.s.02\",\"score\":0.1889},{\"synset\":\"adjacent.s.01\",\"score\":0.2184}]},{\"position\":8,\"startingPos\":33,\"endingPos\":41,\"stem\":\"holiday\",\"lemma\":\"holiday\",\"token\":\"holidays\",\"partOfSpeech\":\"NNS\",\"parentPosition\":5,\"relationToParent\":\"pobj\",\"senses\":[{\"synset\":\"holiday.n.02\",\"score\":0.388},{\"synset\":\"vacation.n.01\",\"score\":0.8415}]},{\"position\":9,\"startingPos\":41,\"endingPos\":41,\"stem\":\".\",\"lemma\":\".\",\"token\":\".\",\"partOfSpeech\":\".\",\"parentPosition\":2,\"relationToParent\":\"punct\"}]}],\"language\":\"eng\",\"languageIsReliable\":true,\"entities\":[{\"id\":0,\"type\":[\"Place\",\"PopulatedPlace\",\"Settlement\"],\"matchingTokens\":[4],\"entityId\":\"Paris\",\"freebaseTypes\":[\"/location/statistical_region\",\"/location/location\",\"/olympics/olympic_bidding_city\",\"/film/film_subject\",\"/government/governmental_jurisdiction\",\"/location/capital_of_administrative_division\",\"/film/film_location\",\"/symbols/name_source\",\"/periodicals/newspaper_circulation_area\",\"/location/place_with_neighborhoods\",\"/conferences/conference_venue\",\"/fictional_universe/fictional_setting\",\"/tv/tv_location\",\"/visual_art/art_subject\",\"/travel/travel_destination\",\"/location/fr_department\",\"/radio/radio_subject\",\"/award/award_discipline\",\"/location/administrative_division\",\"/olympics/olympic_host_city\",\"/location/dated_location\",\"/organization/organization_scope\",\"/location/citytown\",\"/book/book_subject\",\"/symbols/namesake\",\"/sports/sports_team_location\"],\"confidenceScore\":1.463,\"wikiLink\":\"http://en.wikipedia.org/wiki/Paris\",\"matchedText\":\"Paris\",\"freebaseId\":\"/m/05qtj\",\"relevanceScore\":0.04027,\"entityEnglishId\":\"Paris\",\"startingPos\":14,\"endingPos\":19,\"wikidataId\":\"Q90\"}],\"relations\":[{\"id\":0,\"wordPositions\":[1,2,3,5],\"params\":[{\"relation\":\"SUBJECT\",\"wordPositions\":[0]},{\"relation\":\"OBJECT\",\"wordPositions\":[4,6,7,8]}]}],\"properties\":[{\"id\":0,\"wordPositions\":[6,8],\"propertyPositions\":[7]}],\"entailments\":[{\"id\":0,\"wordPositions\":[2],\"entailedWords\":[\"go\"],\"entailedTree\":{\"word\":\"go\"},\"priorScore\":1,\"contextScore\":1,\"score\":1},{\"id\":1,\"wordPositions\":[2],\"entailedWords\":[\"participate\"],\"entailedTree\":{\"word\":\"participate\"},\"priorScore\":0.01422,\"contextScore\":0.1794,\"score\":0.4562},{\"id\":2,\"wordPositions\":[2],\"entailedWords\":[\"rendezvous\"],\"entailedTree\":{\"word\":\"rendezvous\"},\"priorScore\":0.0005009,\"contextScore\":0.2063,\"score\":0.1925},{\"id\":3,\"wordPositions\":[2],\"entailedWords\":[\"undertake\"],\"entailedTree\":{\"word\":\"undertake\"},\"priorScore\":0.009826,\"contextScore\":-0.06933,\"score\":0.2688},{\"id\":4,\"wordPositions\":[2],\"entailedWords\":[\"terminate\"],\"entailedTree\":{\"word\":\"terminate\"},\"priorScore\":0.003676,\"contextScore\":-0.05603,\"score\":0.1511},{\"id\":5,\"wordPositions\":[2],\"entailedWords\":[\"surrender\"],\"entailedTree\":{\"word\":\"surrender\"},\"priorScore\":0.003577,\"contextScore\":0.007473,\"score\":0.1745},{\"id\":6,\"wordPositions\":[2],\"entailedWords\":[\"disappear\"],\"entailedTree\":{\"word\":\"disappear\"},\"priorScore\":0.008897,\"contextScore\":0.05345,\"score\":0.2993},{\"id\":7,\"wordPositions\":[2],\"entailedWords\":[\"departure\"],\"entailedTree\":{\"word\":\"departure\"},\"priorScore\":0.00158,\"contextScore\":0.04692,\"score\":0.1504},{\"id\":8,\"wordPositions\":[2],\"entailedWords\":[\"beginning\"],\"entailedTree\":{\"word\":\"beginning\"},\"priorScore\":0.002868,\"contextScore\":0.4465,\"score\":0.336},{\"id\":9,\"wordPositions\":[2],\"entailedWords\":[\"accompany\"],\"entailedTree\":{\"word\":\"accompany\"},\"priorScore\":0.008255,\"contextScore\":0.08808,\"score\":0.3003},{\"id\":10,\"wordPositions\":[2],\"entailedWords\":[\"withdraw\"],\"entailedTree\":{\"word\":\"withdraw\"},\"priorScore\":0.01128,\"contextScore\":-0.04533,\"score\":0.3074},{\"id\":11,\"wordPositions\":[2],\"entailedWords\":[\"progress\"],\"entailedTree\":{\"word\":\"progress\"},\"priorScore\":0.004353,\"contextScore\":-0.06713,\"score\":0.1602},{\"id\":12,\"wordPositions\":[2],\"entailedWords\":[\"everyone\"],\"entailedTree\":{\"word\":\"everyone\"},\"priorScore\":0.0006437,\"contextScore\":0.186,\"score\":0.1873},{\"id\":13,\"wordPositions\":[2],\"entailedWords\":[\"continue\"],\"entailedTree\":{\"word\":\"continue\"},\"priorScore\":0.0702,\"contextScore\":0.1511,\"score\":1.564},{\"id\":14,\"wordPositions\":[2],\"entailedWords\":[\"commence\"],\"entailedTree\":{\"word\":\"commence\"},\"priorScore\":0.007855,\"contextScore\":0.316,\"score\":0.3835},{\"id\":15,\"wordPositions\":[2],\"entailedWords\":[\"announce\"],\"entailedTree\":{\"word\":\"announce\"},\"priorScore\":0.03014,\"contextScore\":0.115,\"score\":0.7488},{\"id\":16,\"wordPositions\":[2],\"entailedWords\":[\"activity\"],\"entailedTree\":{\"word\":\"activity\"},\"priorScore\":0.0008069,\"contextScore\":0.1471,\"score\":0.175},{\"id\":17,\"wordPositions\":[2],\"entailedWords\":[\"undergo\"],\"entailedTree\":{\"word\":\"undergo\"},\"priorScore\":0.007715,\"contextScore\":-0.03836,\"score\":0.239},{\"id\":18,\"wordPositions\":[2],\"entailedWords\":[\"prosper\"],\"entailedTree\":{\"word\":\"prosper\"},\"priorScore\":0.001102,\"contextScore\":0.09593,\"score\":0.1604},{\"id\":19,\"wordPositions\":[2],\"entailedWords\":[\"perform\"],\"entailedTree\":{\"word\":\"perform\"},\"priorScore\":0.02338,\"contextScore\":-0.06587,\"score\":0.5412},{\"id\":20,\"wordPositions\":[2],\"entailedWords\":[\"operate\"],\"entailedTree\":{\"word\":\"operate\"},\"priorScore\":0.0113,\"contextScore\":-0.09103,\"score\":0.2895},{\"id\":21,\"wordPositions\":[2],\"entailedWords\":[\"journey\"],\"entailedTree\":{\"word\":\"journey\"},\"priorScore\":0.002871,\"contextScore\":0.2949,\"score\":0.2754},{\"id\":22,\"wordPositions\":[2],\"entailedWords\":[\"advance\"],\"entailedTree\":{\"word\":\"advance\"},\"priorScore\":0.007045,\"contextScore\":-0.08478,\"score\":0.207},{\"id\":23,\"wordPositions\":[2],\"entailedWords\":[\"wander\"],\"entailedTree\":{\"word\":\"wander\"},\"priorScore\":0.002627,\"contextScore\":0.09469,\"score\":0.1904},{\"id\":24,\"wordPositions\":[2],\"entailedWords\":[\"travel\"],\"entailedTree\":{\"word\":\"travel\"},\"priorScore\":0.03262,\"contextScore\":0.2962,\"score\":0.8709},{\"id\":25,\"wordPositions\":[2],\"entailedWords\":[\"switch\"],\"entailedTree\":{\"word\":\"switch\"},\"priorScore\":0.005028,\"contextScore\":-0.03124,\"score\":0.1881},{\"id\":26,\"wordPositions\":[2],\"entailedWords\":[\"return\"],\"entailedTree\":{\"word\":\"return\"},\"priorScore\":0.07956,\"contextScore\":0.3152,\"score\":1.817},{\"id\":27,\"wordPositions\":[2],\"entailedWords\":[\"retire\"],\"entailedTree\":{\"word\":\"retire\"},\"priorScore\":0.01643,\"contextScore\":0.02631,\"score\":0.4391},{\"id\":28,\"wordPositions\":[2],\"entailedWords\":[\"resort\"],\"entailedTree\":{\"word\":\"resort\"},\"priorScore\":0.0004679,\"contextScore\":0.2083,\"score\":0.1927},{\"id\":29,\"wordPositions\":[2],\"entailedWords\":[\"remain\"],\"entailedTree\":{\"word\":\"remain\"},\"priorScore\":0.0186,\"contextScore\":0.1253,\"score\":0.5221},{\"id\":30,\"wordPositions\":[2],\"entailedWords\":[\"pursue\"],\"entailedTree\":{\"word\":\"pursue\"},\"priorScore\":0.006832,\"contextScore\":-0.09249,\"score\":0.1996},{\"id\":31,\"wordPositions\":[2],\"entailedWords\":[\"permit\"],\"entailedTree\":{\"word\":\"permit\"},\"priorScore\":0.007923,\"contextScore\":0.04827,\"score\":0.2778},{\"id\":32,\"wordPositions\":[2],\"entailedWords\":[\"launch\"],\"entailedTree\":{\"word\":\"launch\"},\"priorScore\":0.0122,\"contextScore\":0.02221,\"score\":0.3528},{\"id\":33,\"wordPositions\":[2],\"entailedWords\":[\"happen\"],\"entailedTree\":{\"word\":\"happen\"},\"priorScore\":0.01374,\"contextScore\":0.0977,\"score\":0.4139},{\"id\":34,\"wordPositions\":[2],\"entailedWords\":[\"follow\"],\"entailedTree\":{\"word\":\"follow\"},\"priorScore\":0.02312,\"contextScore\":-0.1153,\"score\":0.5164},{\"id\":35,\"wordPositions\":[2],\"entailedWords\":[\"finish\"],\"entailedTree\":{\"word\":\"finish\"},\"priorScore\":0.02252,\"contextScore\":-0.06924,\"score\":0.5227},{\"id\":36,\"wordPositions\":[2],\"entailedWords\":[\"expire\"],\"entailedTree\":{\"word\":\"expire\"},\"priorScore\":0.002102,\"contextScore\":0.1151,\"score\":0.1881},{\"id\":37,\"wordPositions\":[2],\"entailedWords\":[\"escape\"],\"entailedTree\":{\"word\":\"escape\"},\"priorScore\":0.01097,\"contextScore\":-0.09981,\"score\":0.2795},{\"id\":38,\"wordPositions\":[2],\"entailedWords\":[\"engage\"],\"entailedTree\":{\"word\":\"engage\"},\"priorScore\":0.009137,\"contextScore\":-0.1225,\"score\":0.2337},{\"id\":39,\"wordPositions\":[2],\"entailedWords\":[\"emerge\"],\"entailedTree\":{\"word\":\"emerge\"},\"priorScore\":0.01194,\"contextScore\":0.01634,\"score\":0.3453},{\"id\":40,\"wordPositions\":[2],\"entailedWords\":[\"embark\"],\"entailedTree\":{\"word\":\"embark\"},\"priorScore\":0.008992,\"contextScore\":0.2138,\"score\":0.3653},{\"id\":41,\"wordPositions\":[2],\"entailedWords\":[\"elapse\"],\"entailedTree\":{\"word\":\"elapse\"},\"priorScore\":0.0005127,\"contextScore\":0.4173,\"score\":0.2772},{\"id\":42,\"wordPositions\":[2],\"entailedWords\":[\"depart\"],\"entailedTree\":{\"word\":\"depart\"},\"priorScore\":0.01024,\"contextScore\":0.3294,\"score\":0.4366},{\"id\":43,\"wordPositions\":[2],\"entailedWords\":[\"decide\"],\"entailedTree\":{\"word\":\"decide\"},\"priorScore\":0.04085,\"contextScore\":0.0315,\"score\":0.9295},{\"id\":44,\"wordPositions\":[2],\"entailedWords\":[\"cruise\"],\"entailedTree\":{\"word\":\"cruise\"},\"priorScore\":0.001221,\"contextScore\":0.3002,\"score\":0.2445},{\"id\":45,\"wordPositions\":[2],\"entailedWords\":[\"choose\"],\"entailedTree\":{\"word\":\"choose\"},\"priorScore\":0.02796,\"contextScore\":0.08539,\"score\":0.6934},{\"id\":46,\"wordPositions\":[2],\"entailedWords\":[\"chance\"],\"entailedTree\":{\"word\":\"chance\"},\"priorScore\":0.003387,\"contextScore\":0.01842,\"score\":0.1751},{\"id\":47,\"wordPositions\":[2],\"entailedWords\":[\"attend\"],\"entailedTree\":{\"word\":\"attend\"},\"priorScore\":0.01829,\"contextScore\":0.4386,\"score\":0.6411},{\"id\":48,\"wordPositions\":[2],\"entailedWords\":[\"arrive\"],\"entailedTree\":{\"word\":\"arrive\"},\"priorScore\":0.03506,\"contextScore\":0.3151,\"score\":0.9272},{\"id\":49,\"wordPositions\":[2],\"entailedWords\":[\"visit\"],\"entailedTree\":{\"word\":\"visit\"},\"priorScore\":0.02784,\"contextScore\":0.7123,\"score\":0.9417},{\"id\":50,\"wordPositions\":[2],\"entailedWords\":[\"start\"],\"entailedTree\":{\"word\":\"start\"},\"priorScore\":0.06456,\"contextScore\":0.226,\"score\":1.482},{\"id\":51,\"wordPositions\":[2],\"entailedWords\":[\"spend\"],\"entailedTree\":{\"word\":\"spend\"},\"priorScore\":0.05205,\"contextScore\":0.5305,\"score\":1.353},{\"id\":52,\"wordPositions\":[2],\"entailedWords\":[\"shoot\"],\"entailedTree\":{\"word\":\"shoot\"},\"priorScore\":0.01587,\"contextScore\":0.04764,\"score\":0.4365},{\"id\":53,\"wordPositions\":[2],\"entailedWords\":[\"serve\"],\"entailedTree\":{\"word\":\"serve\"},\"priorScore\":0.0201,\"contextScore\":-0.03996,\"score\":0.486},{\"id\":54,\"wordPositions\":[2],\"entailedWords\":[\"right\"],\"entailedTree\":{\"word\":\"right\"},\"priorScore\":0.002698,\"contextScore\":0.03729,\"score\":0.1689},{\"id\":55,\"wordPositions\":[2],\"entailedWords\":[\"ready\"],\"entailedTree\":{\"word\":\"ready\"},\"priorScore\":0.009638,\"contextScore\":0.217,\"score\":0.3796},{\"id\":56,\"wordPositions\":[2],\"entailedWords\":[\"prior\"],\"entailedTree\":{\"word\":\"prior\"},\"priorScore\":0.004671,\"contextScore\":0.3455,\"score\":0.3316},{\"id\":57,\"wordPositions\":[2],\"entailedWords\":[\"point\"],\"entailedTree\":{\"word\":\"point\"},\"priorScore\":0.004019,\"contextScore\":0.0154,\"score\":0.1865},{\"id\":58,\"wordPositions\":[2],\"entailedWords\":[\"occur\"],\"entailedTree\":{\"word\":\"occur\"},\"priorScore\":0.01305,\"contextScore\":0.06794,\"score\":0.3882},{\"id\":59,\"wordPositions\":[2],\"entailedWords\":[\"match\"],\"entailedTree\":{\"word\":\"match\"},\"priorScore\":0.004915,\"contextScore\":-0.01785,\"score\":0.1912},{\"id\":60,\"wordPositions\":[2],\"entailedWords\":[\"leave\"],\"entailedTree\":{\"word\":\"leave\"},\"priorScore\":0.07804,\"contextScore\":0.3066,\"score\":1.783},{\"id\":61,\"wordPositions\":[2],\"entailedWords\":[\"hurry\"],\"entailedTree\":{\"word\":\"hurry\"},\"priorScore\":0.001641,\"contextScore\":0.2173,\"score\":0.2198},{\"id\":62,\"wordPositions\":[2],\"entailedWords\":[\"enter\"],\"entailedTree\":{\"word\":\"enter\"},\"priorScore\":0.04143,\"contextScore\":0.1227,\"score\":0.9777},{\"id\":63,\"wordPositions\":[2],\"entailedWords\":[\"enjoy\"],\"entailedTree\":{\"word\":\"enjoy\"},\"priorScore\":0.01409,\"contextScore\":0.3849,\"score\":0.5359},{\"id\":64,\"wordPositions\":[2],\"entailedWords\":[\"elope\"],\"entailedTree\":{\"word\":\"elope\"},\"priorScore\":0.0003149,\"contextScore\":0.1313,\"score\":0.1588},{\"id\":65,\"wordPositions\":[2],\"entailedWords\":[\"drive\"],\"entailedTree\":{\"word\":\"drive\"},\"priorScore\":0.008829,\"contextScore\":-0.01648,\"score\":0.27},{\"id\":66,\"wordPositions\":[2],\"entailedWords\":[\"carry\"],\"entailedTree\":{\"word\":\"carry\"},\"priorScore\":0.01424,\"contextScore\":-0.1015,\"score\":0.3441},{\"id\":67,\"wordPositions\":[2],\"entailedWords\":[\"break\"],\"entailedTree\":{\"word\":\"break\"},\"priorScore\":0.02327,\"contextScore\":0.1658,\"score\":0.6316},{\"id\":68,\"wordPositions\":[2],\"entailedWords\":[\"begin\"],\"entailedTree\":{\"word\":\"begin\"},\"priorScore\":0.08141,\"contextScore\":0.2837,\"score\":1.842},{\"id\":69,\"wordPositions\":[2],\"entailedWords\":[\"apply\"],\"entailedTree\":{\"word\":\"apply\"},\"priorScore\":0.005826,\"contextScore\":0.05098,\"score\":0.2369},{\"id\":70,\"wordPositions\":[2],\"entailedWords\":[\"allow\"],\"entailedTree\":{\"word\":\"allow\"},\"priorScore\":0.02413,\"contextScore\":-0.09547,\"score\":0.5443},{\"id\":71,\"wordPositions\":[2],\"entailedWords\":[\"work\"],\"entailedTree\":{\"word\":\"work\"},\"priorScore\":0.0184,\"contextScore\":0.1974,\"score\":0.547},{\"id\":72,\"wordPositions\":[2],\"entailedWords\":[\"want\"],\"entailedTree\":{\"word\":\"want\"},\"priorScore\":0.03305,\"contextScore\":-0.015,\"score\":0.755},{\"id\":73,\"wordPositions\":[2],\"entailedWords\":[\"walk\"],\"entailedTree\":{\"word\":\"walk\"},\"priorScore\":0.01162,\"contextScore\":-0.05294,\"score\":0.3113},{\"id\":74,\"wordPositions\":[2],\"entailedWords\":[\"wait\"],\"entailedTree\":{\"word\":\"wait\"},\"priorScore\":0.01221,\"contextScore\":0.2842,\"score\":0.4578},{\"id\":75,\"wordPositions\":[2],\"entailedWords\":[\"turn\"],\"entailedTree\":{\"word\":\"turn\"},\"priorScore\":0.03113,\"contextScore\":-0.09193,\"score\":0.6859},{\"id\":76,\"wordPositions\":[2],\"entailedWords\":[\"trip\"],\"entailedTree\":{\"word\":\"trip\"},\"priorScore\":0.003924,\"contextScore\":0.5057,\"score\":0.3808},{\"id\":77,\"wordPositions\":[2],\"entailedWords\":[\"tour\"],\"entailedTree\":{\"word\":\"tour\"},\"priorScore\":0.007513,\"contextScore\":0.2889,\"score\":0.3658},{\"id\":78,\"wordPositions\":[2],\"entailedWords\":[\"tell\"],\"entailedTree\":{\"word\":\"tell\"},\"priorScore\":0.03572,\"contextScore\":0.006606,\"score\":0.817},{\"id\":79,\"wordPositions\":[2],\"entailedWords\":[\"take\"],\"entailedTree\":{\"word\":\"take\"},\"priorScore\":0.08705,\"contextScore\":0.1438,\"score\":1.899},{\"id\":80,\"wordPositions\":[2],\"entailedWords\":[\"stop\"],\"entailedTree\":{\"word\":\"stop\"},\"priorScore\":0.02393,\"contextScore\":0.02351,\"score\":0.588},{\"id\":81,\"wordPositions\":[2],\"entailedWords\":[\"step\"],\"entailedTree\":{\"word\":\"step\"},\"priorScore\":0.005694,\"contextScore\":-0.06449,\"score\":0.1881},{\"id\":82,\"wordPositions\":[2],\"entailedWords\":[\"stay\"],\"entailedTree\":{\"word\":\"stay\"},\"priorScore\":0.02831,\"contextScore\":0.5405,\"score\":0.8824},{\"id\":83,\"wordPositions\":[2],\"entailedWords\":[\"sail\"],\"entailedTree\":{\"word\":\"sail\"},\"priorScore\":0.008328,\"contextScore\":0.05563,\"score\":0.2888},{\"id\":84,\"wordPositions\":[2],\"entailedWords\":[\"ride\"],\"entailedTree\":{\"word\":\"ride\"},\"priorScore\":0.003515,\"contextScore\":-0.0007778,\"score\":0.17},{\"id\":85,\"wordPositions\":[2],\"entailedWords\":[\"quit\"],\"entailedTree\":{\"word\":\"quit\"},\"priorScore\":0.006927,\"contextScore\":0.06877,\"score\":0.2661},{\"id\":86,\"wordPositions\":[2],\"entailedWords\":[\"play\"],\"entailedTree\":{\"word\":\"play\"},\"priorScore\":0.03703,\"contextScore\":0.04421,\"score\":0.8584},{\"id\":87,\"wordPositions\":[2],\"entailedWords\":[\"part\"],\"entailedTree\":{\"word\":\"part\"},\"priorScore\":0.008732,\"contextScore\":0.04733,\"score\":0.2936},{\"id\":88,\"wordPositions\":[2],\"entailedWords\":[\"meet\"],\"entailedTree\":{\"word\":\"meet\"},\"priorScore\":0.03643,\"contextScore\":-0.0005006,\"score\":0.8284},{\"id\":89,\"wordPositions\":[2],\"entailedWords\":[\"make\"],\"entailedTree\":{\"word\":\"make\"},\"priorScore\":0.0599,\"contextScore\":-0.1042,\"score\":1.256},{\"id\":90,\"wordPositions\":[2],\"entailedWords\":[\"live\"],\"entailedTree\":{\"word\":\"live\"},\"priorScore\":0.01912,\"contextScore\":0.08834,\"score\":0.5178},{\"id\":91,\"wordPositions\":[2],\"entailedWords\":[\"life\"],\"entailedTree\":{\"word\":\"life\"},\"priorScore\":0.001086,\"contextScore\":0.2281,\"score\":0.213},{\"id\":92,\"wordPositions\":[2],\"entailedWords\":[\"know\"],\"entailedTree\":{\"word\":\"know\"},\"priorScore\":0.03021,\"contextScore\":-0.08509,\"score\":0.6702},{\"id\":93,\"wordPositions\":[2],\"entailedWords\":[\"join\"],\"entailedTree\":{\"word\":\"join\"},\"priorScore\":0.03725,\"contextScore\":0.02423,\"score\":0.8546},{\"id\":94,\"wordPositions\":[2],\"entailedWords\":[\"hold\"],\"entailedTree\":{\"word\":\"hold\"},\"priorScore\":0.03431,\"contextScore\":0.1174,\"score\":0.8332},{\"id\":95,\"wordPositions\":[2],\"entailedWords\":[\"give\"],\"entailedTree\":{\"word\":\"give\"},\"priorScore\":0.03489,\"contextScore\":-0.1166,\"score\":0.7511},{\"id\":96,\"wordPositions\":[2],\"entailedWords\":[\"flee\"],\"entailedTree\":{\"word\":\"flee\"},\"priorScore\":0.013,\"contextScore\":0.01194,\"score\":0.3648},{\"id\":97,\"wordPositions\":[2],\"entailedWords\":[\"find\"],\"entailedTree\":{\"word\":\"find\"},\"priorScore\":0.03384,\"contextScore\":-0.08141,\"score\":0.7442},{\"id\":98,\"wordPositions\":[2],\"entailedWords\":[\"file\"],\"entailedTree\":{\"word\":\"file\"},\"priorScore\":0.003033,\"contextScore\":0.03392,\"score\":0.1742},{\"id\":99,\"wordPositions\":[2],\"entailedWords\":[\"fare\"],\"entailedTree\":{\"word\":\"fare\"},\"priorScore\":0.00145,\"contextScore\":0.245,\"score\":0.227},{\"id\":100,\"wordPositions\":[2],\"entailedWords\":[\"fall\"],\"entailedTree\":{\"word\":\"fall\"},\"priorScore\":0.02403,\"contextScore\":0.2654,\"score\":0.6867},{\"id\":101,\"wordPositions\":[2],\"entailedWords\":[\"drop\"],\"entailedTree\":{\"word\":\"drop\"},\"priorScore\":0.01763,\"contextScore\":-0.03768,\"score\":0.4375},{\"id\":102,\"wordPositions\":[2],\"entailedWords\":[\"draw\"],\"entailedTree\":{\"word\":\"draw\"},\"priorScore\":0.01329,\"contextScore\":-0.02306,\"score\":0.3566},{\"id\":103,\"wordPositions\":[2],\"entailedWords\":[\"come\"],\"entailedTree\":{\"word\":\"come\"},\"priorScore\":0.09235,\"contextScore\":0.2805,\"score\":2.059},{\"id\":104,\"wordPositions\":[2],\"entailedWords\":[\"camp\"],\"entailedTree\":{\"word\":\"camp\"},\"priorScore\":0.0007489,\"contextScore\":0.2267,\"score\":0.2057},{\"id\":105,\"wordPositions\":[2],\"entailedWords\":[\"back\"],\"entailedTree\":{\"word\":\"back\"},\"priorScore\":0.007548,\"contextScore\":0.318,\"score\":0.3782},{\"id\":106,\"wordPositions\":[2],\"entailedWords\":[\"win\"],\"entailedTree\":{\"word\":\"win\"},\"priorScore\":0.03355,\"contextScore\":-0.05258,\"score\":0.75},{\"id\":107,\"wordPositions\":[2],\"entailedWords\":[\"try\"],\"entailedTree\":{\"word\":\"try\"},\"priorScore\":0.028,\"contextScore\":-0.04417,\"score\":0.6424},{\"id\":108,\"wordPositions\":[2],\"entailedWords\":[\"sit\"],\"entailedTree\":{\"word\":\"sit\"},\"priorScore\":0.008801,\"contextScore\":0.1739,\"score\":0.3456},{\"id\":109,\"wordPositions\":[2],\"entailedWords\":[\"set\"],\"entailedTree\":{\"word\":\"set\"},\"priorScore\":0.0237,\"contextScore\":0.1171,\"score\":0.6208},{\"id\":110,\"wordPositions\":[2],\"entailedWords\":[\"see\"],\"entailedTree\":{\"word\":\"see\"},\"priorScore\":0.04571,\"contextScore\":0.06082,\"score\":1.039},{\"id\":111,\"wordPositions\":[2],\"entailedWords\":[\"say\"],\"entailedTree\":{\"word\":\"say\"},\"priorScore\":0.04432,\"contextScore\":-0.0237,\"score\":0.9768},{\"id\":112,\"wordPositions\":[2],\"entailedWords\":[\"run\"],\"entailedTree\":{\"word\":\"run\"},\"priorScore\":0.02857,\"contextScore\":0.08101,\"score\":0.7038},{\"id\":113,\"wordPositions\":[2],\"entailedWords\":[\"opt\"],\"entailedTree\":{\"word\":\"opt\"},\"priorScore\":0.006556,\"contextScore\":0.1804,\"score\":0.3033},{\"id\":114,\"wordPositions\":[2],\"entailedWords\":[\"let\"],\"entailedTree\":{\"word\":\"let\"},\"priorScore\":0.002796,\"contextScore\":0.0601,\"score\":0.18},{\"id\":115,\"wordPositions\":[2],\"entailedWords\":[\"hit\"],\"entailedTree\":{\"word\":\"hit\"},\"priorScore\":0.01676,\"contextScore\":-0.06566,\"score\":0.4088},{\"id\":116,\"wordPositions\":[2],\"entailedWords\":[\"get\"],\"entailedTree\":{\"word\":\"get\"},\"priorScore\":0.01173,\"contextScore\":0.03769,\"score\":0.3497},{\"id\":117,\"wordPositions\":[2],\"entailedWords\":[\"fly\"],\"entailedTree\":{\"word\":\"fly\"},\"priorScore\":0.00981,\"contextScore\":0.01371,\"score\":0.3017},{\"id\":118,\"wordPositions\":[2],\"entailedWords\":[\"die\"],\"entailedTree\":{\"word\":\"die\"},\"priorScore\":0.03254,\"contextScore\":-0.02001,\"score\":0.7429},{\"id\":119,\"wordPositions\":[2],\"entailedWords\":[\"ask\"],\"entailedTree\":{\"word\":\"ask\"},\"priorScore\":0.03545,\"contextScore\":-0.03285,\"score\":0.7958},{\"id\":120,\"wordPositions\":[2],\"entailedWords\":[\"act\"],\"entailedTree\":{\"word\":\"act\"},\"priorScore\":0.004118,\"contextScore\":-0.04187,\"score\":0.1656},{\"id\":122,\"wordPositions\":[4],\"entailedWords\":[\"paris\"],\"entailedTree\":{\"word\":\"paris\"},\"priorScore\":1,\"contextScore\":1,\"score\":1},{\"id\":123,\"wordPositions\":[7],\"entailedWords\":[\"next\"],\"entailedTree\":{\"word\":\"next\"},\"priorScore\":1,\"contextScore\":1,\"score\":1},{\"id\":124,\"wordPositions\":[7],\"entailedWords\":[\"forthcoming\"],\"entailedTree\":{\"word\":\"forthcoming\"},\"priorScore\":0.004869,\"contextScore\":0.01871,\"score\":0.2049},{\"id\":125,\"wordPositions\":[7],\"entailedWords\":[\"thereafter\"],\"entailedTree\":{\"word\":\"thereafter\"},\"priorScore\":0.005207,\"contextScore\":-0.08913,\"score\":0.1685},{\"id\":126,\"wordPositions\":[7],\"entailedWords\":[\"successive\"],\"entailedTree\":{\"word\":\"successive\"},\"priorScore\":0.01909,\"contextScore\":-0.09456,\"score\":0.4439},{\"id\":127,\"wordPositions\":[7],\"entailedWords\":[\"convenient\"],\"entailedTree\":{\"word\":\"convenient\"},\"priorScore\":0.001549,\"contextScore\":0.1388,\"score\":0.1865},{\"id\":128,\"wordPositions\":[7],\"entailedWords\":[\"afterwards\"],\"entailedTree\":{\"word\":\"afterwards\"},\"priorScore\":0.006509,\"contextScore\":0.159,\"score\":0.2938},{\"id\":129,\"wordPositions\":[7],\"entailedWords\":[\"following\"],\"entailedTree\":{\"word\":\"following\"},\"priorScore\":0.00889,\"contextScore\":0.2813,\"score\":0.3903},{\"id\":130,\"wordPositions\":[7],\"entailedWords\":[\"different\"],\"entailedTree\":{\"word\":\"different\"},\"priorScore\":0.02019,\"contextScore\":-0.04158,\"score\":0.4872},{\"id\":131,\"wordPositions\":[7],\"entailedWords\":[\"alongside\"],\"entailedTree\":{\"word\":\"alongside\"},\"priorScore\":0.01711,\"contextScore\":0.01342,\"score\":0.4475},{\"id\":132,\"wordPositions\":[7],\"entailedWords\":[\"afterward\"],\"entailedTree\":{\"word\":\"afterward\"},\"priorScore\":0.003839,\"contextScore\":0.1117,\"score\":0.2214},{\"id\":133,\"wordPositions\":[7],\"entailedWords\":[\"upcoming\"],\"entailedTree\":{\"word\":\"upcoming\"},\"priorScore\":0.01321,\"contextScore\":0.1714,\"score\":0.4328},{\"id\":134,\"wordPositions\":[7],\"entailedWords\":[\"previous\"],\"entailedTree\":{\"word\":\"previous\"},\"priorScore\":0.06465,\"contextScore\":-0.1075,\"score\":1.35},{\"id\":135,\"wordPositions\":[7],\"entailedWords\":[\"several\"],\"entailedTree\":{\"word\":\"several\"},\"priorScore\":0.05976,\"contextScore\":0.03039,\"score\":1.307},{\"id\":136,\"wordPositions\":[7],\"entailedWords\":[\"outside\"],\"entailedTree\":{\"word\":\"outside\"},\"priorScore\":0.03224,\"contextScore\":0.08441,\"score\":0.7785},{\"id\":137,\"wordPositions\":[7],\"entailedWords\":[\"meeting\"],\"entailedTree\":{\"word\":\"meeting\"},\"priorScore\":0.0006043,\"contextScore\":0.1222,\"score\":0.161},{\"id\":138,\"wordPositions\":[7],\"entailedWords\":[\"another\"],\"entailedTree\":{\"word\":\"another\"},\"priorScore\":0.05838,\"contextScore\":0.02917,\"score\":1.279},{\"id\":139,\"wordPositions\":[7],\"entailedWords\":[\"single\"],\"entailedTree\":{\"word\":\"single\"},\"priorScore\":0.03182,\"contextScore\":-0.04183,\"score\":0.7197},{\"id\":140,\"wordPositions\":[7],\"entailedWords\":[\"second\"],\"entailedTree\":{\"word\":\"second\"},\"priorScore\":0.006445,\"contextScore\":-0.08295,\"score\":0.1957},{\"id\":141,\"wordPositions\":[7],\"entailedWords\":[\"nearby\"],\"entailedTree\":{\"word\":\"nearby\"},\"priorScore\":0.007292,\"contextScore\":-0.01477,\"score\":0.2399},{\"id\":142,\"wordPositions\":[7],\"entailedWords\":[\"future\"],\"entailedTree\":{\"word\":\"future\"},\"priorScore\":0.0151,\"contextScore\":0.03384,\"score\":0.4155},{\"id\":143,\"wordPositions\":[7],\"entailedWords\":[\"fourth\"],\"entailedTree\":{\"word\":\"fourth\"},\"priorScore\":0.04142,\"contextScore\":-0.06987,\"score\":0.9005},{\"id\":144,\"wordPositions\":[7],\"entailedWords\":[\"direct\"],\"entailedTree\":{\"word\":\"direct\"},\"priorScore\":0.004623,\"contextScore\":-0.05725,\"score\":0.1696},{\"id\":145,\"wordPositions\":[7],\"entailedWords\":[\"course\"],\"entailedTree\":{\"word\":\"course\"},\"priorScore\":0.0004106,\"contextScore\":0.2254,\"score\":0.1984},{\"id\":146,\"wordPositions\":[7],\"entailedWords\":[\"coming\"],\"entailedTree\":{\"word\":\"coming\"},\"priorScore\":0.0006695,\"contextScore\":0.4146,\"score\":0.2792},{\"id\":147,\"wordPositions\":[7],\"entailedWords\":[\"closer\"],\"entailedTree\":{\"word\":\"closer\"},\"priorScore\":0.004676,\"contextScore\":-0.03355,\"score\":0.1801},{\"id\":148,\"wordPositions\":[7],\"entailedWords\":[\"beside\"],\"entailedTree\":{\"word\":\"beside\"},\"priorScore\":0.008829,\"contextScore\":0.06342,\"score\":0.3019},{\"id\":149,\"wordPositions\":[7],\"entailedWords\":[\"around\"],\"entailedTree\":{\"word\":\"around\"},\"priorScore\":0.02315,\"contextScore\":0.2749,\"score\":0.673},{\"id\":150,\"wordPositions\":[7],\"entailedWords\":[\"almost\"],\"entailedTree\":{\"word\":\"almost\"},\"priorScore\":0.005506,\"contextScore\":0.1005,\"score\":0.2503},{\"id\":151,\"wordPositions\":[7],\"entailedWords\":[\"first\"],\"entailedTree\":{\"word\":\"first\"},\"priorScore\":0.1366,\"contextScore\":0.1202,\"score\":2.879},{\"id\":152,\"wordPositions\":[7],\"entailedWords\":[\"final\"],\"entailedTree\":{\"word\":\"final\"},\"priorScore\":0.04107,\"contextScore\":-0.07161,\"score\":0.8927},{\"id\":153,\"wordPositions\":[7],\"entailedWords\":[\"every\"],\"entailedTree\":{\"word\":\"every\"},\"priorScore\":0.0353,\"contextScore\":0.6636,\"score\":1.072},{\"id\":154,\"wordPositions\":[7],\"entailedWords\":[\"early\"],\"entailedTree\":{\"word\":\"early\"},\"priorScore\":0.02606,\"contextScore\":0.09294,\"score\":0.6584},{\"id\":155,\"wordPositions\":[7],\"entailedWords\":[\"close\"],\"entailedTree\":{\"word\":\"close\"},\"priorScore\":0.02423,\"contextScore\":-0.08069,\"score\":0.5523},{\"id\":157,\"wordPositions\":[7],\"entailedWords\":[\"along\"],\"entailedTree\":{\"word\":\"along\"},\"priorScore\":0.03383,\"contextScore\":-0.08351,\"score\":0.7433},{\"id\":158,\"wordPositions\":[7],\"entailedWords\":[\"ahead\"],\"entailedTree\":{\"word\":\"ahead\"},\"priorScore\":0.004616,\"contextScore\":0.1757,\"score\":0.2626},{\"id\":160,\"wordPositions\":[7],\"entailedWords\":[\"well\"],\"entailedTree\":{\"word\":\"well\"},\"priorScore\":0.04732,\"contextScore\":0.0399,\"score\":1.062},{\"id\":161,\"wordPositions\":[7],\"entailedWords\":[\"time\"],\"entailedTree\":{\"word\":\"time\"},\"priorScore\":0.00101,\"contextScore\":0.4752,\"score\":0.3103},{\"id\":162,\"wordPositions\":[7],\"entailedWords\":[\"near\"],\"entailedTree\":{\"word\":\"near\"},\"priorScore\":0.02756,\"contextScore\":0.001649,\"score\":0.6518},{\"id\":163,\"wordPositions\":[7],\"entailedWords\":[\"many\"],\"entailedTree\":{\"word\":\"many\"},\"priorScore\":0.03255,\"contextScore\":0.1102,\"score\":0.7951},{\"id\":164,\"wordPositions\":[7],\"entailedWords\":[\"late\"],\"entailedTree\":{\"word\":\"late\"},\"priorScore\":0.08878,\"contextScore\":0.1164,\"score\":1.922},{\"id\":165,\"wordPositions\":[7],\"entailedWords\":[\"last\"],\"entailedTree\":{\"word\":\"last\"},\"priorScore\":0.00294,\"contextScore\":0.2995,\"score\":0.2786},{\"id\":166,\"wordPositions\":[7],\"entailedWords\":[\"east\"],\"entailedTree\":{\"word\":\"east\"},\"priorScore\":0.008105,\"contextScore\":-0.07687,\"score\":0.2313},{\"id\":168,\"wordPositions\":[7],\"entailedWords\":[\"come\"],\"entailedTree\":{\"word\":\"come\"},\"priorScore\":0.002515,\"contextScore\":0.4687,\"score\":0.3378},{\"id\":170,\"wordPositions\":[7],\"entailedWords\":[\"way\"],\"entailedTree\":{\"word\":\"way\"},\"priorScore\":0.0003914,\"contextScore\":0.195,\"score\":0.1858},{\"id\":171,\"wordPositions\":[7],\"entailedWords\":[\"new\"],\"entailedTree\":{\"word\":\"new\"},\"priorScore\":0.005968,\"contextScore\":0.09236,\"score\":0.2563},{\"id\":174,\"wordPositions\":[8],\"entailedWords\":[\"holiday\"],\"entailedTree\":{\"word\":\"holiday\"},\"priorScore\":1,\"contextScore\":1,\"score\":1},{\"id\":175,\"wordPositions\":[8],\"entailedWords\":[\"festivity\"],\"entailedTree\":{\"word\":\"festivity\"},\"priorScore\":0.01205,\"contextScore\":-0.09136,\"score\":0.3044},{\"id\":176,\"wordPositions\":[8],\"entailedWords\":[\"celebrate\"],\"entailedTree\":{\"word\":\"celebrate\"},\"priorScore\":0.01338,\"contextScore\":0.01182,\"score\":0.3723},{\"id\":177,\"wordPositions\":[8],\"entailedWords\":[\"vacation\"],\"entailedTree\":{\"word\":\"vacation\"},\"priorScore\":0.01448,\"contextScore\":0.3223,\"score\":0.5184},{\"id\":178,\"wordPositions\":[8],\"entailedWords\":[\"festival\"],\"entailedTree\":{\"word\":\"festival\"},\"priorScore\":0.02098,\"contextScore\":-0.04504,\"score\":0.5017},{\"id\":179,\"wordPositions\":[8],\"entailedWords\":[\"weekend\"],\"entailedTree\":{\"word\":\"weekend\"},\"priorScore\":0.01973,\"contextScore\":0.2342,\"score\":0.5883},{\"id\":180,\"wordPositions\":[8],\"entailedWords\":[\"visit\"],\"entailedTree\":{\"word\":\"visit\"},\"priorScore\":0.008691,\"contextScore\":0.3085,\"score\":0.3972},{\"id\":181,\"wordPositions\":[8],\"entailedWords\":[\"event\"],\"entailedTree\":{\"word\":\"event\"},\"priorScore\":0.01639,\"contextScore\":0.01849,\"score\":0.4352},{\"id\":182,\"wordPositions\":[8],\"entailedWords\":[\"trip\"],\"entailedTree\":{\"word\":\"trip\"},\"priorScore\":0.01123,\"contextScore\":0.4584,\"score\":0.508},{\"id\":183,\"wordPositions\":[8],\"entailedWords\":[\"tour\"],\"entailedTree\":{\"word\":\"tour\"},\"priorScore\":0.01327,\"contextScore\":0.2974,\"score\":0.4844},{\"id\":184,\"wordPositions\":[8],\"entailedWords\":[\"day\"],\"entailedTree\":{\"word\":\"day\"},\"priorScore\":0.03488,\"contextScore\":0.5078,\"score\":1.001}],\"nounPhrases\":[{\"id\":0,\"wordPositions\":[0]},{\"id\":1,\"wordPositions\":[4]},{\"id\":2,\"wordPositions\":[6,7,8]}]},\"time\":0.005573,\"ok\":true}");

        // When
        worker.go().toCompletableFuture().get(5, SECONDS);

        // Then
        assertThat(node.get("analysisResult").has("response")).isTrue();
        assertThat(node.get("analysisResult").get("response").has("language")).isFalse();
        assertThat(node.get("analysisResult").get("response").get("__language").asText()).isEqualTo("eng");
    }

    @Test
    public void withSimpleError() throws InterruptedException, ExecutionException, TimeoutException {
        // Given
        restAPICaller
            .setExpectedStatus(401)
            .setExpectedResponse("{\"ok\":false, \"time\":0, \"error\":\"Your TextRazor API Key was invalid.\"}");

        // When
        worker.go().toCompletableFuture().get(5, SECONDS);

        // Then
        assertThat(errorMessage).isEqualTo("Your TextRazor API Key was invalid.");
    }
    
}
